<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body bgcolor="lightblue">
    <fieldset>
        <legend>Select Fruits</legend>
    <h4><input type="checkbox" id="cb1" name="fruit" value="Apple">  Apple</h4> <br>
    <h4><input type="checkbox" id="cb2" name="fruit" value="Orange"> Orange</h4><br>
    <h4><input type="checkbox" id="cb3" name="fruit" value="Banana"> Banana</h4><br>
    <input type="button" value="submit" onclick="notify() ">
    <img src="https://source.unsplash.com/random/100x200">
</fieldset>
    <script>
        function notify() {
            var a = document.getElementById('cb1').checked
            var b = document.getElementById('cb2').checked
            var c = document.getElementById('cb3').checked
          
            var flag = null;

            if (a || b || c === true) {
                flag = 1;
            }
            else
            {
                alert("Choose atleast one fruit! ")
            }
           
            console.log(Notification.permission,);            //it has 3 possible values: default, granted and denied
            if (Notification.permission === "granted" && flag === 1) {
                showNotification();
            }

            else if (Notification.permission != "denied") {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted" && flag === 1) {
                        showNotification();
                    }

                })
            }

             function showNotification() {
                const notification = new Notification("New message from Deepak!", {
                    body: "Hey! You have selected a great list of fruits.",
                    icon: "fruits.jpg"
                    
                });
                notification.onclick = function () {
                    alert("Notification clicked!"),
                        window.open("http://google.com")
                      //  showNotification();
                };                
                
                //notification.close();
                setTimeout(notification.close.bind(notification), 7000); 

            }
        }
    </script>
</body>

</html>